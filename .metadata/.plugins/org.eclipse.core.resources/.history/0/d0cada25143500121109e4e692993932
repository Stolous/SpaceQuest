package ca.viaware.rpg.map;

import static org.lwjgl.opengl.GL11.*;

import org.lwjgl.opengl.GL11;
import org.newdawn.slick.opengl.Texture;

import ca.viaware.rpg.game.Globals;

public class Tile {

	private Texture tex = null;
	private boolean enabled = false;
	private int ID = 0;

	public void setTexture(Texture t) {
		tex = t;
	}

	public boolean isEnabled() {
		return enabled;
	}

	public Texture getTexture() {
		return tex;
	}

	public void render(int cx, int cy, int xOff, int yOff) {

		System.out.println("Rendering");
		
		Globals.tileTextures.get(ID).bind();

		glBegin(GL_QUADS);
		glTexCoord2f(0f, 0f);
		glVertex2i(cx * 64 + xOff, cy * 64 + yOff);
		glTexCoord2f(1f, 0f);
		glVertex2i(cx * 64 + xOff + 64, cy * 64 + yOff);
		glTexCoord2f(1f, 1f);
		glVertex2i(cx * 64 + xOff + 64, cy * 64 + yOff + 64);
		glTexCoord2f(0f, 1f);
		glVertex2i(cx * 64 + xOff, cy * 64 + yOff + 64);
		glEnd();
	}

	public void setID(int id) {
		if (id == -1) {
			enabled = false;
		} else {
			ID = id;
		}
		if (enabled) {
			System.out.println("Tile has texture");
			setTexture(Globals.tileTextures.get(ID - 1));
		}
	}
}
